<!--
Autor: AGUSTÍN IGLESIAS MOYA
Fecha: 22/04/2017

Controlador que interactua con la vista: ComunidadAutonomasController

Vista que muestra:
    En una tabla la lista de comunidades autónomas recibidas del controlador, con un checkbox en cada fila de la tabla para seleccionar el elemento a borrar
    Botón para añadir un nuevo plan de estudio
    Botón para eliminar los planes de estudio seleccionados en los checkbox

-->
<!--Colección de Comunidades autónomas del controlador a mostrar-->
@model IEnumerable<TFG.Models.ComunidadAutonoma>

@{
    ViewData["Title"] = "Comunidades autónomas";
}


<hr />
<!--Formulario que será enviado por POST al pulsar en el botón borrarComunidadesAutonomas-->
<form asp-action="BorrarComunidadesAutonomas" role="form">
    <div class="top-buffer"></div>
    <div class="panel-body">        
            <!--<div class="panel-heading panel-head">-->
        <div class="panel panel-default">
            <div class="panel-heading">
                @ViewData["Title"]
                <div class="pull-right">
                    <!--Botón para añadir una nueva comunidad autónoma-->
                    <a id="crearUsuario" asp-action="CrearEditarComunidadesAutonomas" class="btn btn-default btn-sm">
                        <i class="glyphicon glyphicon-plus"></i>  Nueva Comunidad Autónoma
                    </a>
                    <!--Javascript para confirmar que se desean borrar los datos-->
                    <span onclick="return confirm('Se perderán los datos. ¿Desea continuar?')">
                        <!--Botón para borrar una comunidad autónoma-->
                        <button data-dismiss="modal" id="borrarComunidadesAutonomas" class="btn btn-danger btn-sm" type="submit">
                            <i class="glyphicon glyphicon-trash"></i> Borrar(Seleccionados)
                        </button>
                    </span>
                </div>
            </div>
            <div class="alert-danger">
                @Html.ValidationSummary(false)
            </div>
            <div class="panel-body">
                <div class="top-buffer"></div>
                <table id="example" class="table table-striped table-bordered">
                    <thead><!--Encabezado de la tabla donde se muestran los datos de la comunidad autónoma-->

                        <tr>
                            <th></th>
                            <th>Comunidad Autónoma(@Html.DisplayNameFor(m=>m.Descripcion))</th>
                        </tr>
                    </thead>
                    <tbody><!--Datos de la comunidad autónoma mostrados en la tabla-->
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    <input name="selBorrar" type="checkbox" value="@item.ComunidadAutonomaId" />
                                </td>
                                <td>
                                    <a id="editarComunidadesAutonomas" asp-action="CrearEditarComunidadesAutonomas" asp-route-id="@item.ComunidadAutonomaId">@item.Descripcion</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            </div>
        </div>
</form>
